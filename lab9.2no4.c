#include <stdio.h>
#include <string.h> 
#include <ctype.h> 

int checkLogin(char *login, char *passwd);
int checkValidPass(char *ps);

int main() {
    char login[64], password[64];
    printf("Enter login : "); gets(login);
    printf("Enter password : "); gets(password);

    if (checkLogin(login, password) == 1) {
        printf("Welcome\n");
    } else {
        printf("Incorrect login or password\n");
    }

    // ?????: ????????????????????? ????????? else ??????????
    if (checkValidPass(password)) {
        printf("Accepted\n");
    } else {
        printf("Reject\n");
    }

    return 0;
}

int checkValidPass(char *ps) {
    int len = strlen(ps),i;
    int upperCount = 0;
    int digitCount = 0;
    int upperUsed[26] = {0}; // ??????????????????? A-Z (26 ???) ???????????????

    // 1. ?????????????? 5-8 ????????
    if (len < 5 || len > 8) {
        return 0;
    }

    for ( i = 0; i < len; i++) {
        // 2. ??????????????????? ?????????????
        if (isupper(ps[i])) {
            int index = ps[i] - 'A'; // ???????????? A-Z ????????? 0-25
            if (upperUsed[index] == 1) {
                return 0; // ??????????????????????????????? ??? Reject ????? (???!)
            }
            upperUsed[index] = 1; // ????????????????????????
            upperCount++;
        }
        
        // 3. ????????????????????????
        if (isdigit(ps[i])) {
            digitCount++;
        }
    }

    // 4. ??????????????????????????? 2+ ??? ?????? 2+
    if (upperCount >= 2 && digitCount >= 2) {
        return 1;
    }

    return 0;
}

int checkLogin(char *login, char *passwd) {
    // strcmp ?????? 0 ????????????????????? ?????? ! ?????????? "????????????"
    if (!strcmp(login, "student1") && !strcmp(passwd, "mypass"))
        return 1;
    else
        return 0;
}
